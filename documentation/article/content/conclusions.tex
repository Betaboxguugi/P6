\section{Conclusion and Future Work}\label{sect:conc}

In this paper we presented \FW{}, an ETL test-framework for use in conjunction with pygrametl. We started off by looking into the field of ETL testing. We found that most other test frameworks either were not specialized in ETL testing, or they were GUI based. As pygrametl is API based, it was decided that \FW{} should not be using a GUI and be API based as well, as it would otherwise be a clash in usage philosophy. By looking deeper into ETL testing, we found that its main purpose is to ensure correct data flow from sources to the DW. As this is a rather data-centric problem, we based \FW{} upon source-to-target testing. Here testing of an ETL occurs by focusing on the DW that it populates.

\FW{} supports automatic testing at the system level, and assists in both functional- and regression testing. It consists of two larger components, the DWPopulator and the Predicates. The DWPopulator allows for the execution of pygrametl programs, so that a DW may be populated for test. It also allows testers to dynamically replace sources and DW in the pygrametl program’s source code with test data. The Predicates contain the actual test functionality. There are different types of predicates, each allowing for the implementation of a common assertion on the DW’s contents. Once a tester has set up all their predicates, they are executed. It is then reported on, whether their assertions held or not. If not, the cause of failure will be reported.

Having developed \FW{}, we evaluated its use as compared to manual testing through SQL queries. We found that the execution speeds were almost equal when using \FW{}. Yet, while manual testing needed 110 statement to be performed, testing with \FW{} needed only 11 statements. This a benefit for manual testers in migrating to \FW{}. Yet, we must remember that our predicates can only be used to cover a portion of an ETL system. It is likely that there are situations during testing, where the flexibility of a SQL query could come in handy. However, we determine that \FW{} can be used to cover the most common cases during testing. As such \FW{}, would be a viable tool in any pygrametl tester’s toolkit.

If more work is to be done on \FW{}, some functionality could be added. There is a restriction upon the types of programs, which the DWPopulator can dynamically replace sources and DW. Thus, an upgrade to this component would allow for more types of programs to be processed. More predicate types could be added to the framework in order to handle more specialized assertions. It would also be beneficial to implement features that allow testers to develop their own predicate types that run on SQL. As our current user-defined predicate types, RuleRowPredicate and RuleColumnPredicate, work through python functions and are as such slow to execute. Furthermore, a lot of \FW{}s functionalities depend on it performing natural joins, which restricts the range DW schemas that it will function on. Allowing users to specify columns to perform normal joins on would increase this range. Thus it could be a valuable addition.
